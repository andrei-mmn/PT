@using System.Activities.Statements
@using System.Web.UI.WebControls
@using PowerTables.Plugins
@using PowerTables.Plugins.Loading
@using PowerTables.Plugins.Ordering
@using PowerTables.Templating
@using PowerTables.Templating.BuiltIn
@using PowerTables.Templating.Handlebars

@inherits PowerTables.Templating.TemplatesPageBase

@*
    Lattice common layout template
    See available helpers in scope variable "t"
*@

@using (var t = this.Layout())
{
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                @t.Plugins("lt")
                <div class="btn-group" style="margin-bottom:10px">@t.Plugins("lt-toolbar")</div>
                <br />
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6 text-right">
                @t.Plugins("rt")
                <div class="btn-group" style="padding-bottom:10px">@t.Plugins("rt-toolbar")</div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                <hr />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <table class="table table-striped table-condensed table-bordered">
                    <thead style="display: table-header-group;">
                        <tr>@t.Headers()</tr>
                        <tr>@t.Filters()</tr>
                    </thead>
                    <tbody>@t.Body()</tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                @t.Plugins("lb")
                <div class="btn-group">@t.Plugins("lb-toolbar")</div>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 text-right" style="float:right;">
                @t.Plugins("rb")
                <div class="btn-group">@t.Plugins("rb-toolbar")</div>
            </div>
        </div>
    </div>
}

@*
    Plugin wrapper template. This template is being wrapped around each plugin
*@
@using (var t = this.PluginWrapper())
{
    <text>
        @using (t.IfLocation("lt"))
        {
            <span @t.Track()> @t.Content() </span>
        }

        @using (t.IfLocation("lb"))
        {
            <div style="float: left;" @t.Track()> @t.Content() </div>
        }

        @using (t.IfLocation("rt"))
        {
            <div style="float: right;" @t.Track()> @t.Content() </div>
        }

        @using (t.IfLocation("rb"))
        {
            <div style="float: right;" @t.Track()> @t.Content() </div>
        }
        @using (t.IfLocation("filter"))
        {
            <th @t.Track()>@t.Content()</th>
        }
    </text>
}

@*
    Column header wrapper template.
*@
@using (var t = this.HeaderWrapper())
{
    <th @t.Track()>@t.Content()</th>
}

@*
    Row wrapper template.
    Following HTML is being wrapped around each data row
*@
@using (var t = this.RowWrapper())
{
    <tr @t.Track()>@t.Content()</tr>
}

@*
    Cell wrapper template.
    Following HTML is being wrapped around each data cell
*@
@using (var t = this.CellWrapper())
{
    <td @t.Track()>@t.Content()</td>
}


@using (var t = Plugin.Loading())
{
    <div style="display:block;height:10px;margin:10px;margin-top:5px;">
        <div class="badge" @t.ThisElementWillBlink()>
            <span class="glyphicon glyphicon-refresh"></span> Loading
        </div>
    </div>
}

@using (var t = Plugin.Ordering())
{
    <th @t.Track() @t.BindSwitchOrdering("click") style="cursor: pointer">
        
        <span><strong>@t.Content()</strong></span>
        @using (t.If(c => c.IsNeutral))
        {
            <span class="glyphicon glyphicon-th-large" style="color: #bac5d3; float: right;"></span>
        }
        @using (t.If(c => c.IsAscending))
        {
            <span class="glyphicon glyphicon-chevron-up" style="color: #bac5d3; float: right;"></span>
        }
        @using (t.If(c => c.IsDescending))
        {
            <span class="glyphicon glyphicon-chevron-down" style="color: #bac5d3; float: right;"></span>
        }
    </th>
}